<div class="co-pilot-image-viewer-container">
  <div class="co-pilot-image-viewer-title-bar">
    <div class="co-pilot-image-viewer-title-bar-left">
      <span
        class="icomoon Arrow-Left white cursor-pointer"
        (click)="goBack()"
        [attr.automation-id]="'co-pilot-image-viewer-back-btn'"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 1088 1088"
          class="chevron-icon chevron-left"
        >
          <path
            d="M683.548 130.667l32.198 32.198-263.803 263.802 263.803 263.802-32.198 32.198-296.001-296 296.001-296z"
            fill="white"
          />
        </svg>
      </span>
      <span class="co-pilot-image-title white">{{ currentFileKey }}</span>
    </div>
    <div class="co-pilot-image-viewer-title-bar-center">
      <span
        class="icomoon Minus white cursor-pointer"
        (click)="zoomOut()"
        [style.cursor]="isLoading ? 'not-allowed' : 'pointer'"
        [attr.automation-id]="'co-pilot-image-viewer-zoomOut-btn'"
      >
        <svg
          width="13"
          height="2"
          viewBox="0 0 13 2"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M0.5 1.66671H12.5V0.333374H0.5V1.66671Z"
            fill="white"
          />
        </svg>
      </span>
      <span class="co-pilot-zoom-percentage white">{{ zoomPercentage }}%</span>
      <span
        class="icomoon Plus white cursor-pointer"
        (click)="zoomIn()"
        [style.cursor]="isLoading ? 'not-allowed' : 'pointer'"
        [attr.automation-id]="'co-pilot-image-viewer-zoomIn-btn'"
      >
        <svg
          width="13"
          height="12"
          viewBox="0 0 13 12"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M5.83333 0V5.33333H0.5V6.66667H5.83333V12H7.16667V6.66667H12.5V5.33333H7.16667V0H5.83333Z"
            fill="white"
          />
        </svg>
      </span>
    </div>
    <div class="co-pilot-image-viewer-title-bar-right">
      <span
        class="icomoon Download-Outline white cursor-pointer"
        (click)="downloadImage()"
        [style.cursor]="isLoading ? 'not-allowed' : 'pointer'"
        [attr.automation-id]="'co-pilot-image-viewer-downloadImg-btn'"
      >
        <svg
          width="20"
          height="20"
          viewBox="0 0 20 20"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            fill-rule="evenodd"
            clip-rule="evenodd"
            d="M7.5 2.5H12.5V3.75H7.5V2.5ZM10 15C10.0868 15.0006 10.1727 14.9831 10.2523 14.9487C10.3319 14.9142 10.4035 14.8636 10.4625 14.8L15 10H12.5V5H7.5V10H5L9.53125 14.8C9.59095 14.8644 9.66355 14.9155 9.74431 14.9499C9.82508 14.9844 9.9122 15.0015 10 15ZM8.75 11.25V6.25H11.25V11.25H12.0938L10 13.4688L7.9 11.25H8.75ZM17.5 13.75V16.875H2.5V13.75H1.25V16.875C1.25 17.2065 1.3817 17.5245 1.61612 17.7589C1.85054 17.9933 2.16848 18.125 2.5 18.125H17.5C17.8315 18.125 18.1495 17.9933 18.3839 17.7589C18.6183 17.5245 18.75 17.2065 18.75 16.875V13.75H17.5Z"
            fill="white"
          />
        </svg>
      </span>
    </div>
  </div>
  <div
    class="co-pilot-image-view-navigation"
    [style.display]="isLoading ? 'none' : 'flex'"
  >
    <div class="co-pilot-previous-area">
      <button
        class="circular-button left cursor-pointer"
        [disabled]="currentIndex === 0"
        [attr.automation-id]="'co-pilot-image-viewer-prev-btn'"
        (click)="previousImage()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 1088 1088"
          class="chevron-icon chevron-left"
        >
          <path
            d="M683.548 130.667l32.198 32.198-263.803 263.802 263.803 263.802-32.198 32.198-296.001-296 296.001-296z"
          />
        </svg>
      </button>
    </div>
    <div class="co-pilot-image-viewer-image-area">
      <img
        class="response-image"
        #imageElement
        crossorigin="anonymous | use-credentials"
        [src]="safeUrl"
        [alt]="currentFileKey"
        (load)="imageLoaded()"
        [style.transform]="'scale(' + scale + ')'"
        [attr.automation-id]="'co-pilot-image-viewer-img ' + currentIndex"
      />
    </div>
    <div class="co-pilot-next-area">
      <button
        class="circular-button right cursor-pointer"
        [disabled]="currentIndex === gallery?.length - 1"
        [attr.automation-id]="'co-pilot-image-viewer-next-btn'"
        (click)="nextImage()"
      >
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 1088 1088"
          class="chevron-icon"
        >
          <path
            d="M429.171 130.667l-32.198 32.198 263.803 263.802-263.803 263.802 32.198 32.198 296.001-296-296.001-296z"
          />
        </svg>
      </button>
    </div>
  </div>
</div>
<div
  class="co-pilot-spinner-container"
  [style.display]="isLoading ? 'flex' : 'none'"
>
  <div class="spinner-area"></div>
</div>
